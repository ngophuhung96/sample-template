spotless {
	java {
		licenseHeaderFile 'config/spotless/spotless.license.java'
		importOrderFile   'config/spotless/spotless.importorder'
		eclipse().configFile 'config/spotless/spotless.eclipseformat.xml'
		removeUnusedImports()
		endWithNewline()
		indentWithTabs()
		custom 'Long literal fix', { it.replaceAll('([0-9_]+) [Ll]', '$1L') }
		custom 'Lambda fix', { it.replace('} )', '})').replace('} ,', '},') }
		custom 'Trim trailing whitespace', { it.endsWith('* ') ? it : it.replaceAll('(?<=[^ \\t])[ \\t]+$', '') }
		replaceRegex 'Add space before comment asterisk', '^(\\t*)\\*', '$1 *'
	}

	groovyGradle {
		target '*.gradle'
		greclipse()
	}
}
